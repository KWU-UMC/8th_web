# ğŸ“˜ useEffectë€?

`useEffect`ëŠ” **Reactì˜ í›…(Hook)** ì¤‘ í•˜ë‚˜ë¡œ,  
ì»´í¬ë„ŒíŠ¸ê°€ **ë Œë”ë§ëœ ì´í›„ íŠ¹ì • ì‘ì—…(side effect)ì„ ìˆ˜í–‰**í•˜ë„ë¡ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

ë³´í†µ ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ì— ì‚¬ìš©ë©ë‹ˆë‹¤:

- API í˜¸ì¶œ (fetch, axios ë“±)
- ì´ë²¤íŠ¸ ë“±ë¡ ë° í•´ì œ
- íƒ€ì´ë¨¸ ì„¤ì • (`setInterval`, `setTimeout`)
- ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì ‘ê·¼
- ì»´í¬ë„ŒíŠ¸ ìƒíƒœ ë³€í™”ì— ë”°ë¥¸ í›„ì† ì‘ì—…

---

## ğŸ§  ê¸°ë³¸ ë¬¸ë²•

```tsx
useEffect(() => {
  // ì‹¤í–‰í•  ì½”ë“œ
}, [ì˜ì¡´ì„± ë°°ì—´]);
```

ì½œë°± í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ëœ í›„ ì‹¤í–‰í•  ì½”ë“œ
ì˜ì¡´ì„± ë°°ì—´ [] ë°°ì—´ ì•ˆì˜ ê°’ì´ ë³€ê²½ë  ë•Œë§Œ ë‹¤ì‹œ ì‹¤í–‰ë¨. ë¹„ì›Œë‘ë©´ ìµœì´ˆ í•œ ë²ˆë§Œ ì‹¤í–‰ë¨

# âœ… ì „ì²´ íë¦„ ì •ë¦¬

```tsx
import { useEffect, useState } from "react";

const MyComponent = () => {
  const [data, setData] = useState(null);

  useEffect(() => {
    // 1. ë¹„ë™ê¸° í•¨ìˆ˜ ì •ì˜
    const fetchData = async () => {
      try {
        // 2. API í˜¸ì¶œ
        const response = await fetch("https://api.example.com/data");

        // 3. JSON ë³€í™˜
        const result = await response.json();

        // 4. ìƒíƒœì— ì €ì¥
        setData(result);
      } catch (error) {
        console.error("ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:", error);
      }
    };

    // 5. í•¨ìˆ˜ í˜¸ì¶œ
    fetchData();
  }, []); // ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ë  ë•Œë§Œ ì‹¤í–‰

  return (
    <div>
      {data ? <p>ë°ì´í„°: {JSON.stringify(data)}</p> : <p>ë¡œë”© ì¤‘...</p>}
    </div>
  );
};
```

# ğŸ“Œ ì£¼ìš” ê°œë… ì„¤ëª…

## 1. useEffect(() => { ... }, [])

ë§ˆìš´íŠ¸ ì‹œ(ì²« ë Œë”ë§ ì‹œ) í•œ ë²ˆë§Œ ì‹¤í–‰ë¨

ë°°ì—´ ì•ˆì˜ ê°’ì´ ë°”ë€Œë©´ ê·¸ë•Œë§ˆë‹¤ ë‹¤ì‹œ ì‹¤í–‰ë¨

## 2. async í•¨ìˆ˜ëŠ” ì§ì ‘ useEffectì— ë„£ì„ ìˆ˜ ì—†ìŒ

ì´ë ‡ê²Œ í•˜ë©´ ì•ˆ ë¨ ->

```tsx
useEffect(async () => {
  const res = await fetch("...");
}, []);
```

ê·¸ë˜ì„œ async í•¨ìˆ˜ëŠ” useEffect ë‚´ë¶€ì—ì„œ ì •ì˜í•˜ê³  ì¦‰ì‹œ í˜¸ì¶œí•´ì•¼ í•¨

## 3. setData(result)

useStateë¥¼ í†µí•´ ë°›ì€ setterë¡œ API ì‘ë‹µì„ ì €ì¥í•¨

## ğŸ§¹ í´ë¦°ì—… í•¨ìˆ˜ (return)

ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°, íƒ€ì´ë¨¸ í•´ì œ ë“± ì •ë¦¬ ì‘ì—…ì— ì‚¬ìš©

```tsx
useEffect(() => {
  const timer = setTimeout(() => {
    console.log("3ì´ˆ í›„ ì‹¤í–‰");
  }, 3000);

  return () => {
    clearTimeout(timer); // ì–¸ë§ˆìš´íŠ¸ ì‹œ ì •ë¦¬
  };
}, []);
```
