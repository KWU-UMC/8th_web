- **`useMutation`**은 무엇인가요?
  ### useMutation은 무엇인가요?
  `useMutation`은 React Query(@tanstack/react-query)에서 제공하는 훅으로, 주로 데이터를 생성(create), 수정(update), 삭제(delete)하는 변경 작업(Write Operation)을 수행할 때 사용됩니다.
  **특징 및 장점:**
  - **상태 관리:** 로딩, 성공, 에러 상태를 내장하여 별도의 상태 관리 로직 없이 쉽게 사용할 수 있습니다.
  - **자동 캐시 무효화:** 특정 작업 성공 후 관련된 쿼리를 무효화하여 최신 데이터를 반영할 수 있습니다.
  - **옵티미스틱 업데이트:** 요청이 진행되기 전에 UI를 미리 업데이트하여 사용자 경험을 개선할 수 있습니다.
  - **에러 및 재시도 로직:** 에러 발생 시 자동 재시도 등의 옵션을 통해 안정적인 네트워크 통신을 지원합니다.
  - **커스텀 훅과 비교 (useCustomFetch를 만약에 post, put, delete, patch 등 모든 메소드를 받을 수 있다고 할 때)**
    - `useCustomFetch`와 같은 커스텀 훅은 개발자가 로딩/에러 상태, 캐싱, 재시도 등의 로직을 직접 구현해야 하지만,
    - `useMutation`은 이러한 기능들을 내장하고 있어 보다 간편하고 일관된 방식으로 서버에 데이터를 변경하는 요청을 처리할 수 있습니다.
- **`useMutation`**의 주요 옵션
  ### useMutation의 주요 옵션
  - **mutationFn**
    - **설명:** 데이터를 변경하는 실제 비동기 함수로, Promise를 반환해야 합니다.
    - **용도:** API 호출(POST, PUT, DELETE 등) 로직을 포함합니다.
  - **onMutate**
    - **설명:** mutation 함수 실행 직전에 호출되는 콜백 함수입니다.
    - **용도:** `Optimistic Update`를 수행하거나, 이전 데이터를 임시로 저장하여 실패 시 롤백할 때 사용합니다.
  - **onError**
    - **설명:** mutation 실행 도중 에러가 발생했을 때 호출됩니다.
    - **용도:** 에러 처리 로직 및 롤백 처리를 할 수 있습니다.
  - **onSuccess**
    - **설명:** mutation이 성공적으로 완료되었을 때 호출됩니다.
    - **용도:** 성공 후 관련된 쿼리의 무효화, 사이드 이펙트 처리 등에 활용합니다.
  - **onSettled**
    - **설명:** mutation이 성공 또는 실패 후 모두 호출됩니다.
    - **용도:** 성공/실패 여부와 상관없이 실행해야 하는 후속 작업에 사용합니다.
  - **retry**
    - **설명:** mutation 실패 시 재시도 횟수를 지정합니다. (숫자 또는 함수 형태로 제어)
    - **용도:** 일시적인 네트워크 오류 등에 대해 자동 재시도를 수행할 수 있습니다.
  - **retryDelay**
    - **설명:** 재시도 사이의 대기 시간을 밀리초 단위로 설정합니다.
    - **용도:** 연속된 재시도 사이의 간격을 조절하여 서버 부담을 완화합니다.
  - **throwOnError**
    - **설명:** 에러 발생 시 에러를 컴포넌트 밖으로 throw할지 여부를 결정합니다.
    - **용도:** 에러를 상위 컴포넌트에서 잡아 처리할 수 있도록 합니다.
  - **meta**
    - **설명:** 추가적인 메타 데이터를 전달할 수 있는 옵션입니다.
    - **용도:** 디버깅, 로깅 또는 특정 커스텀 로직을 구현할 때 사용됩니다.
- **`OptimisticUpdate`**는 무엇인가요?
  ### Optimistic Update는 무엇인가요?
  **`Optimistic Update`**는 서버의 응답을 기다리지 않고, 클라이언트 측에서 미리 UI를 업데이트하는 기법입니다. 이를 통해 사용자는 더 빠르고 즉각적인 피드백을 받을 수 있으며, 네트워크 지연이나 서버 응답 대기 시간에 따른 사용자 불편을 줄일 수 있습니다.
  ### 주요 개념
  - **즉각적인 UI 업데이트**
    사용자가 어떤 액션(예: 항목 추가, 수정, 삭제 등)을 수행하면, 서버의 실제 응답과 관계없이 바로 UI에 반영합니다.
  - **가정**
    해당 요청이 성공할 것이라는 가정 하에 UI를 변경합니다.
  - **에러 처리 및 롤백**
    만약 서버 요청이 실패하면, 미리 업데이트한 UI 상태를 이전 상태로 복구(롤백)하여 데이터 일관성을 유지합니다.
  ### 장점
  - **빠른 사용자 경험**
    즉각적인 반응으로 사용자는 자신의 액션이 성공적으로 처리되었다는 느낌을 받게 됩니다.
  - **네트워크 지연 최소화**
    서버 응답을 기다리지 않고 UI를 업데이트함으로써, 네트워크 지연이 사용자 경험에 미치는 영향을 줄입니다.
  ### 단점
  - **복잡한 에러 처리**
    서버 요청이 실패할 경우, 미리 변경된 UI를 올바르게 롤백하는 추가 로직이 필요합니다.
  - **일시적인 데이터 불일치**
    서버 상태와 클라이언트 상태가 잠시 불일치할 수 있으며, 이 경우 UI가 뒤늦게 수정될 수 있습니다.
